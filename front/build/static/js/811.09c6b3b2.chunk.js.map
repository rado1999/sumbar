{"version":3,"file":"static/js/811.09c6b3b2.chunk.js","mappings":"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","sources":["Components/Interceptors/axios.js","Pages/Profile-Pages/my-address/Modal.js","Pages/Profile-Pages/my-address/MyAddress.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst baseURL = 'http://95.85.127.250:3002';\r\n\r\nconst service = axios.create({ baseURL });\r\nservice.interceptors.request.use(\r\n    res=>{\r\n        res.headers['Authorization']='Bearer '+ localStorage.getItem('accessToken')\r\n        return res;\r\n    },\r\n    err=>{\r\n        return Promise.reject(err)\r\n    }\r\n);\r\nservice.interceptors.response.use(\r\n    res=>{return res},\r\n    err=>{\r\n        const status=err.response ? err.response.status : null;\r\n        if (status===403){\r\n            console.log('Refresh Token');\r\n            axios.get('users/refresh',{ headers: { Authorization: `Bearer ${localStorage.getItem('refreshToken')}` } }).then(res=>{\r\n                console.log(res.data);\r\n                localStorage.setItem('accessToken',res.data)\r\n            })\r\n            .catch(err=>{\r\n                console.log(err);\r\n            })\r\n        }\r\n        return Promise.reject(err)\r\n    }\r\n)\r\nexport default service","import React, { useEffect } from 'react'\r\nimport { Controller, useForm } from 'react-hook-form';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport * as yup from 'yup';\r\nimport { AiFillCaretRight } from 'react-icons/ai';\r\nimport service from '../../../Components/Interceptors/axios';\r\nconst Modal = ({ setShowModal }) => {\r\n    const schema = yup.object().shape({\r\n        text: yup.string().min(5, \"minimum 5 simbol bolmaly\").required('meydany doldur')\r\n    }).required();\r\n    const { control, handleSubmit, formState: { errors } } = useForm({\r\n        resolver: yupResolver(schema)\r\n    });\r\n    \r\n    const handleModal = (data) => {\r\n        async function getData() {\r\n            try {\r\n                const response = await service.post('/users/address', { 'address': data.text })\r\n                if (response.status === 201) {\r\n                    \r\n                    setShowModal(false)\r\n                }\r\n            } catch (error) {\r\n                console.error(error);\r\n            }\r\n        }\r\n        getData()\r\n    }\r\n    return (\r\n        <div className='anbsolute'>\r\n            <div id=\"popup-modal\" tabindex=\"-1\" class=\"bg-opacity-30 bg-black flex items-center justify-center overflow-y-hidden overflow-x-hidden fixed top-0 right-0 left-0 z-50 md:inset-0 h-modal h-full\">\r\n                <div data-aos=\"fade-down\" class=\"relative p-4 w-full max-w-lg h-auto\">\r\n                    <div class=\"relative bg-white rounded-lg shadow\">\r\n                        <div className='border-b py-5 flex justify-between px-5 items-center'>\r\n                            <p className='text-black text-xl'>TÄZE SALGY GOŞMAK</p>\r\n                            <button onClick={() => setShowModal(false)} type=\"button\" class=\"absolute right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-800 dark:hover:text-white\" data-modal-toggle=\"popup-modal\">\r\n                                <svg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clip-rule=\"evenodd\"></path></svg>\r\n                            </button>\r\n                        </div>\r\n                        <form onSubmit={handleSubmit(data => handleModal(data))} className='px-4'>\r\n                            <div class=\"px-2 py-2 pb-8\">\r\n                                <Controller\r\n                                    control={control}\r\n                                    name='text'\r\n                                    render={({ field: { onChange, onBlur } }) => {\r\n                                        return (\r\n                                            <div className='my-2'>\r\n                                                <label htmlFor=\"text\" className=\"block my-2 text-md font-medium text-gray-900\">Salgy <span className='text-red-500'>*</span></label>\r\n                                                <textarea onChange={onChange} onBlur={onBlur} className=\"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-red-500 focus:outline-none\" id=\"text\" rows=\"4\" />\r\n                                                <p className='text-red-500'>{errors.text?.message}</p>\r\n                                            </div>\r\n                                        )\r\n                                    }}\r\n                                />\r\n                                <button type='submit' className='transition duration-500 ease-in-out hover:bg-black w-full cursor-pointer mt-6 h-10 flex items-center bg-red-600 text-white rounded justify-center'>\r\n                                    <AiFillCaretRight />\r\n                                    <p>Ýatda sakla</p>\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Modal","import React, { useEffect, useState } from 'react'\r\nimport { AiFillCaretRight } from 'react-icons/ai'\r\nimport { BsSearch, BsTrash } from 'react-icons/bs'\r\nimport { useSelector } from 'react-redux'\r\nimport service from '../../../Components/Interceptors/axios'\r\nimport Modal from './Modal'\r\n\r\nconst MyAddress = () => {\r\n  const [showModal, setShowModal] = useState(false)\r\n  const [data, setData] = useState(null)\r\n  const handleDelete=(id) => {\r\n    async function getData() {\r\n      try {\r\n        const res = await service.delete(`/users/address/${id}`)\r\n        if (res.status===200) {window.location.reload()}\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    }\r\n    getData()\r\n  }\r\n  useEffect(() => {\r\n    async function getData() {\r\n      try {\r\n        const res = await service.get('/users/address')\r\n        setData(res.data)\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    }\r\n    getData()\r\n  }, [showModal])\r\n  const profileShow = useSelector(state => state.profileShow.profileShow)\r\n    useEffect(()=>{\r\n        !profileShow && window.location.replace('/')\r\n    },[])\r\n  return (\r\n    <div className='md:w-3/4 px-3 md:px-0 md:mt-5 mt-0 w-full flex flex-col'>\r\n      <h1 className='mb-4 sm:mt-0 mt-5 text-center text-2xl font-bold'>SALGYLARYM</h1>\r\n      <button onClick={() => setShowModal(true)} className='cursor-pointer mb-4 h-10 flex items-center transition duration-500 ease-in-out hover:bg-black bg-red-600 text-white rounded justify-center'>\r\n        <AiFillCaretRight />\r\n        <p>Täze salgy goşmak</p>\r\n      </button>\r\n      {showModal && <Modal setShowModal={setShowModal} />}\r\n      {data && data.map(e => (\r\n        <div className='h-16 px-2 flex items-center justify-between border bg-white w-full'>\r\n          <p>{e.address}</p>\r\n          <BsTrash className='text-red-600' onClick={() => handleDelete(e.id)} />\r\n        </div>\r\n      ))}\r\n      {data && data.length === 0 && <div className='flex justify-center aling-center items-center flex-col w-full my-20'>\r\n        <BsSearch className='text-4xl text-red-500' />\r\n        <p className='font-bold text-xl'>Salgy: tapylmady</p>\r\n      </div>}\r\n    </div>\r\n  )\r\n}\r\nexport default MyAddress"],"names":["service","axios","baseURL","interceptors","request","use","res","headers","localStorage","getItem","err","Promise","reject","response","status","console","log","Authorization","then","data","setItem","catch","setShowModal","schema","yup","shape","text","min","required","useForm","resolver","yupResolver","control","handleSubmit","errors","formState","className","id","tabindex","class","onClick","type","fill","viewBox","xmlns","d","onSubmit","error","getData","handleModal","name","render","field","onChange","onBlur","htmlFor","rows","message","useState","showModal","setData","useEffect","profileShow","useSelector","state","window","location","replace","map","e","address","reload","handleDelete","length"],"sourceRoot":""}