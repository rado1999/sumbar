{"version":3,"file":"static/js/369.b804d266.chunk.js","mappings":"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","sources":["Components/Interceptors/axios.js","Components/welayatlar.js","Pages/Order.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst baseURL = 'http://95.85.127.250:3002';\r\n\r\nconst service = axios.create({ baseURL });\r\nservice.interceptors.request.use(\r\n    res=>{\r\n        res.headers['Authorization']='Bearer '+ localStorage.getItem('accessToken')\r\n        return res;\r\n    },\r\n    err=>{\r\n        return Promise.reject(err)\r\n    }\r\n);\r\nservice.interceptors.response.use(\r\n    res=>{return res},\r\n    err=>{\r\n        const status=err.response ? err.response.status : null;\r\n        if (status===403){\r\n            console.log('Refresh Token');\r\n            axios.get('users/refresh',{ headers: { Authorization: `Bearer ${localStorage.getItem('refreshToken')}` } }).then(res=>{\r\n                console.log(res.data);\r\n                localStorage.setItem('accessToken',res.data)\r\n            })\r\n            .catch(err=>{\r\n                console.log(err);\r\n            })\r\n        }\r\n        return Promise.reject(err)\r\n    }\r\n)\r\nexport default service","export const welayatlar = [\r\n    {\r\n        'title': \"Ashgabat\",\r\n        \"data\": []\r\n    },\r\n    {\r\n        \"title\": \"Mary welayaty\",\r\n        \"data\": [\"Sakarcage\", \"Gyzylgum\"]\r\n    },\r\n    {\r\n        \"title\": \"Ahal welayaty\",\r\n        \"data\": [\"Anew\", \"Tejen\"]\r\n    },\r\n    {\r\n        \"title\": \"Lebap welayaty\",\r\n        \"data\": [\"Gazojak\", \"Darganata\"]\r\n    },\r\n    {\r\n        \"title\": \"Dasoguz welayaty\",\r\n        \"data\": [\"Gorogly\", \"Akdepe\"]\r\n    },\r\n    {\r\n        \"title\": \"Balkan welayaty\",\r\n        \"data\": [\"Bereket\", \"Gumdag\"]\r\n    }\r\n]","import React, { useState } from 'react'\r\nimport { welayatlar } from '../Components/welayatlar'\r\nimport { Controller, useForm } from 'react-hook-form';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport { AiFillCaretRight } from 'react-icons/ai'\r\nimport * as yup from 'yup';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useSearchParams } from 'react-router-dom';\r\nimport service from '../Components/Interceptors/axios';\r\nimport { emptyCart } from '../Features/cartSlice';\r\nfunction Order() {\r\n    const schema = yup.object().shape({\r\n        tel: yup.string().min(8, \"minimum 8 simbol\").max(8, \"maximum 3 simbol\").required('meydany doldur').matches(/^[0-9]*\\.?[0-9]*$/, 'dine sifr yaz'),\r\n        name: yup.string().min(3, \"minimum 3 simbol bolmaly\").required('meydany doldur'),\r\n        fam: yup.string().min(3, \"minimum 3 simbol bolmaly\").required('meydany doldur'),\r\n        salgy: yup.string().min(3, \"minimum 3 simbol bolmaly\").required('meydany doldur'),\r\n    }).required();\r\n    const { control, handleSubmit, formState: { errors } } = useForm({\r\n        resolver: yupResolver(schema)\r\n    });\r\n    const cartProducts = useSelector(state => state.cart.cartProducts)\r\n    let t = 0\r\n    const idS = []\r\n    cartProducts.map(e => {\r\n        idS.push(e.product.id)\r\n        t = t + (e.quantity * e.product.price)\r\n    })\r\n    const dispatch=useDispatch()\r\n    const handleOrder = (data) => {\r\n        async function getData() {\r\n            try {\r\n                const res = await service.post('/product/buy',{'ids':idS, 'phone':data.tel, 'total':t, 'payment':t, 'status':null});\r\n                console.log(res);\r\n                if (res.status===201){\r\n                    dispatch(emptyCart())\r\n                    alert('zakaz kabul edildi')\r\n                }\r\n            } catch (error) {\r\n                console.error(error);\r\n            }\r\n        }\r\n        getData()\r\n    }\r\n    let [searchParams, setSearchParams] = useSearchParams();\r\n    const [data, setData] = useState(searchParams.get('p'))\r\n    const [check, setCheck] = useState(searchParams.get('l'))\r\n    return (\r\n        <div className='w-full md:w-3/4 mt-5'>\r\n            <div className='w-full md:w-3/5 px-2 md:px-0 md:mx-auto'>\r\n                <h1 className='mb-4 sm:mt-0 mt-5 text-center text-2xl font-bold'>SARGYT</h1>\r\n                <form onSubmit={handleSubmit(data => handleOrder(data))}>\r\n                    <label htmlFor=\"countries\" className=\"block mb-2 text-md font-medium text-gray-900\">Eltip bermek üçin şäheriňiz <span className='text-red-500'>*</span></label>\r\n                    <select value={data} onChange={(e) => setData(e.target.value)} id=\"countries\" className=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm focus:ring-red-500 focus:border-red-500 block w-full p-2\">\r\n                        {welayatlar.map((e, k) => (\r\n                            <option value={k}>{e.title}</option>\r\n                        ))}\r\n                    </select>\r\n                    {welayatlar[data].data.length > 0 &&\r\n                        <select value={check} onChange={e => setCheck(e.target.value)} className=\"mt-2 bg-gray-50 border border-gray-300 text-gray-900 text-sm focus:ring-red-500 focus:border-red-500 block w-full p-2\">\r\n                            {welayatlar[data].data.map((e, k) => (\r\n                                <option value={k}>{e}</option>\r\n                            ))}\r\n                        </select>}\r\n                    <div className='mb-2'>\r\n                        <Controller\r\n                            control={control}\r\n                            name='salgy'\r\n                            render={({ field: { onChange, onBlur } }) => {\r\n                                return (\r\n                                    <div className='my-2'>\r\n                                        <label htmlFor=\"doly\" className=\"block my-2 text-md font-medium text-gray-900\">Eltip bermek üçin salgynyz <span className='text-red-500'>(Doly gornusde)*</span></label>\r\n                                        <textarea onChange={onChange} onBlur={onBlur} className=\"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-red-500 focus:outline-none\" id=\"doly\" rows=\"3\" />\r\n                                        <p className='text-red-500'>{errors.salgy?.message}</p>\r\n                                    </div>\r\n                                )\r\n                            }}\r\n                        />\r\n                        <Controller\r\n                            control={control}\r\n                            name='name'\r\n                            render={({ field: { onChange, onBlur } }) => {\r\n                                return (\r\n                                    <div className='my-2'>\r\n                                        <label htmlFor='name' className='font-medium'>Adynyz<span className=\"text-red-500\">*</span></label>\r\n                                        <input onChange={onChange} onBlur={onBlur} type=\"text\" id=\"name\" className=\"focus:border-red-500 focus:outline-none border border-gray-200  placeholder-red-500 text-sm block w-full p-2 mt-1\" />\r\n                                        <p className='text-red-500'>{errors.name?.message}</p>\r\n                                    </div>\r\n                                )\r\n                            }}\r\n                        />\r\n                        <Controller\r\n                            control={control}\r\n                            name='fam'\r\n                            render={({ field: { onChange, onBlur } }) => {\r\n                                return (\r\n                                    <div className='my-2'>\r\n                                        <label htmlFor='fam' className='font-medium'>Familiyanyz<span className=\"text-red-500\">*</span></label>\r\n                                        <input onChange={onChange} onBlur={onBlur} type=\"text\" id=\"fam\" className=\"focus:border-red-500 focus:outline-none border border-gray-200  placeholder-red-500 text-sm block w-full p-2 mt-1\" />\r\n                                        <p className='text-red-500'>{errors.fam?.message}</p>\r\n                                    </div>\r\n                                )\r\n                            }}\r\n                        />\r\n                        <Controller\r\n                            control={control}\r\n                            name='tel'\r\n                            render={({ field: { onChange, onBlur } }) => {\r\n                                return (\r\n                                    <div className='my-2'>\r\n                                        <label htmlFor='tel' className='font-medium'>Telefon belgiňiz <span className=\"text-red-500\">*</span></label>\r\n                                        <input onChange={onChange} onBlur={onBlur} type=\"tel\" id=\"tel\" className=\"focus:border-red-500 focus:outline-none border border-gray-200  placeholder-red-500 text-sm block w-full p-2 mt-1\" />\r\n                                        <p className='text-red-500'>{errors.tel?.message}</p>\r\n                                    </div>\r\n                                )\r\n                            }}\r\n                        />\r\n                        <label htmlFor=\"bellik\" className=\"block my-2 text-md font-medium text-gray-900\">Bellikleriňiz</label>\r\n                        <textarea className=\"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-red-500 focus:outline-none\" id=\"bellik\" rows=\"3\" />\r\n                        <div className='flex flex-col mt-2'>\r\n                            <p className=\"block text-md font-medium text-gray-900\">Tolegin gornusi <span className='text-red-500'>*</span></p>\r\n                            <div className='flex items-center'>\r\n                                <input type=\"radio\" id=\"nagt\" name=\"toleg\" value=\"NAGT\" />\r\n                                <label htmlFor=\"nagt\" className='mx-1'>Nagt toleg</label><br />\r\n                                <input type=\"radio\" className='bg-red-500 ml-4 mr-1' id=\"nagtdal\" name=\"toleg\" value=\"NAGTDAL\" />\r\n                                <label htmlFor=\"nagtdal\">Online toleg</label><br />\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"mt-6 relative overflow-x-auto shadow-md mb-4\">\r\n                            <table class=\"w-full text-sm text-left text-gray-500\">\r\n                                <thead class=\"text-xs text-gray-700 uppercase bg-gray-200\">\r\n                                    <tr>\r\n                                        <th scope=\"col\" class=\"px-6 py-4\">\r\n                                            Harytlar\r\n                                        </th>\r\n                                        <th scope=\"col\" class=\"px-6 py-4\">\r\n                                            {t} TMT\r\n                                        </th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    <tr class=\"border-b odd:bg-white even:bg-gray-200\">\r\n                                        <th scope=\"row\" class=\"px-6 py-4 font-medium text-gray-900 whitespace-nowrap\">\r\n                                            Eltip bermek\r\n                                        </th>\r\n                                        <td class=\"px-6 py-4\">\r\n                                            0 TMT\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr class=\"border-b odd:bg-white even:bg-gray-200\">\r\n                                        <th scope=\"row\" class=\"px-6 py-4 font-medium text-gray-900 whitespace-nowrap\">\r\n                                            Jemi\r\n                                        </th>\r\n                                        <td class=\"px-6 py-4 text-red-500\">\r\n                                            {t} TMT\r\n                                        </td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                        <button type='submit' className='w-full cursor-pointer mb-4 h-10 flex items-center bg-red-600 text-white rounded justify-center'>\r\n                            <AiFillCaretRight />\r\n                            <p>Sargydy tassyklamak</p>\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Order"],"names":["service","axios","baseURL","interceptors","request","use","res","headers","localStorage","getItem","err","Promise","reject","response","status","console","log","Authorization","then","data","setItem","catch","welayatlar","schema","yup","shape","tel","min","max","required","matches","name","fam","salgy","useForm","resolver","yupResolver","control","handleSubmit","errors","formState","cartProducts","useSelector","state","cart","t","idS","map","e","push","product","id","quantity","price","dispatch","useDispatch","useSearchParams","searchParams","useState","get","setData","check","setCheck","className","onSubmit","emptyCart","alert","error","getData","handleOrder","htmlFor","value","onChange","target","k","title","length","render","field","onBlur","rows","message","type","class","scope"],"sourceRoot":""}