"use strict";(self.webpackChunksumbar=self.webpackChunksumbar||[]).push([[811],{7179:function(e,t,r){var n=r(4569),s=r.n(n),a=s().create({baseURL:"http://95.85.127.250:3002"});a.interceptors.request.use((function(e){return e.headers.Authorization="Bearer "+localStorage.getItem("accessToken"),e}),(function(e){return Promise.reject(e)})),a.interceptors.response.use((function(e){return e}),(function(e){return 403===(e.response?e.response.status:null)&&(console.log("Refresh Token"),s().get("users/refresh",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("refreshToken"))}}).then((function(e){console.log(e.data),localStorage.setItem("accessToken",e.data)})).catch((function(e){console.log(e)}))),Promise.reject(e)})),t.Z=a},5811:function(e,t,r){r.r(t),r.d(t,{default:function(){return p}});var n=r(4165),s=r(5861),a=r(885),o=r(2791),l=r(8820),c=r(9126),i=r(9434),u=r(7179),d=r(1134),x=r(1265),f=r(7942),h=r(184),m=function(e){var t=e.setShowModal,r=f.Ry().shape({text:f.Z_().min(5,"minimum 5 simbol bolmaly").required("meydany doldur")}).required(),a=(0,d.cI)({resolver:(0,x.X)(r)}),o=a.control,c=a.handleSubmit,i=a.formState.errors;return(0,h.jsx)("div",{className:"anbsolute",children:(0,h.jsx)("div",{id:"popup-modal",tabindex:"-1",class:"bg-opacity-30 bg-black flex items-center justify-center overflow-y-hidden overflow-x-hidden fixed top-0 right-0 left-0 z-50 md:inset-0 h-modal h-full",children:(0,h.jsx)("div",{"data-aos":"fade-down",class:"relative p-4 w-full max-w-lg h-auto",children:(0,h.jsxs)("div",{class:"relative bg-white rounded-lg shadow",children:[(0,h.jsxs)("div",{className:"border-b py-5 flex justify-between px-5 items-center",children:[(0,h.jsx)("p",{className:"text-black text-xl",children:"T\xc4ZE SALGY GO\u015eMAK"}),(0,h.jsx)("button",{onClick:function(){return t(!1)},type:"button",class:"absolute right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-800 dark:hover:text-white","data-modal-toggle":"popup-modal",children:(0,h.jsx)("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})})]}),(0,h.jsx)("form",{onSubmit:c((function(e){return function(e){function r(){return(r=(0,s.Z)((0,n.Z)().mark((function r(){return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,u.Z.post("/users/address",{address:e.text});case 3:201===r.sent.status&&t(!1),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),console.error(r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))).apply(this,arguments)}!function(){r.apply(this,arguments)}()}(e)})),className:"px-4",children:(0,h.jsxs)("div",{class:"px-2 py-2 pb-8",children:[(0,h.jsx)(d.Qr,{control:o,name:"text",render:function(e){var t,r=e.field,n=r.onChange,s=r.onBlur;return(0,h.jsxs)("div",{className:"my-2",children:[(0,h.jsxs)("label",{htmlFor:"text",className:"block my-2 text-md font-medium text-gray-900",children:["Salgy ",(0,h.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,h.jsx)("textarea",{onChange:n,onBlur:s,className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-red-500 focus:outline-none",id:"text",rows:"4"}),(0,h.jsx)("p",{className:"text-red-500",children:null===(t=i.text)||void 0===t?void 0:t.message})]})}}),(0,h.jsxs)("button",{type:"submit",className:"transition duration-500 ease-in-out hover:bg-black w-full cursor-pointer mt-6 h-10 flex items-center bg-red-600 text-white rounded justify-center",children:[(0,h.jsx)(l.rYR,{}),(0,h.jsx)("p",{children:"\xddatda sakla"})]})]})})]})})})})},p=function(){var e=(0,o.useState)(!1),t=(0,a.Z)(e,2),r=t[0],d=t[1],x=(0,o.useState)(null),f=(0,a.Z)(x,2),p=f[0],b=f[1];(0,o.useEffect)((function(){function e(){return(e=(0,s.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get("/users/address");case 3:t=e.sent,b(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[r]);var g=(0,i.v9)((function(e){return e.profileShow.profileShow}));return(0,o.useEffect)((function(){!g&&window.location.replace("/")}),[]),(0,h.jsxs)("div",{className:"md:w-3/4 px-3 md:px-0 md:mt-5 mt-0 w-full flex flex-col",children:[(0,h.jsx)("h1",{className:"mb-4 sm:mt-0 mt-5 text-center text-2xl font-bold",children:"SALGYLARYM"}),(0,h.jsxs)("button",{onClick:function(){return d(!0)},className:"cursor-pointer mb-4 h-10 flex items-center transition duration-500 ease-in-out hover:bg-black bg-red-600 text-white rounded justify-center",children:[(0,h.jsx)(l.rYR,{}),(0,h.jsx)("p",{children:"T\xe4ze salgy go\u015fmak"})]}),r&&(0,h.jsx)(m,{setShowModal:d}),p&&p.map((function(e){return(0,h.jsxs)("div",{className:"h-16 px-2 flex items-center justify-between border bg-white w-full",children:[(0,h.jsx)("p",{children:e.address}),(0,h.jsx)(c.yvY,{className:"text-red-600",onClick:function(){return function(e){function t(){return(t=(0,s.Z)((0,n.Z)().mark((function t(){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.Z.delete("/users/address/".concat(e));case 3:200===t.sent.status&&window.location.reload(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}(e.id)}})]})})),p&&0===p.length&&(0,h.jsxs)("div",{className:"flex justify-center aling-center items-center flex-col w-full my-20",children:[(0,h.jsx)(c.dVI,{className:"text-4xl text-red-500"}),(0,h.jsx)("p",{className:"font-bold text-xl",children:"Salgy: tapylmady"})]})]})}}}]);
//# sourceMappingURL=811.09c6b3b2.chunk.js.map