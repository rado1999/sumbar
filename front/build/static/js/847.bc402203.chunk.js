"use strict";(self.webpackChunksumbar=self.webpackChunksumbar||[]).push([[847],{7179:function(e,t,r){var n=r(4569),a=r.n(n),s=a().create({baseURL:"http://95.85.127.250:3002"});s.interceptors.request.use((function(e){return e.headers.Authorization="Bearer "+localStorage.getItem("accessToken"),e}),(function(e){return Promise.reject(e)})),s.interceptors.response.use((function(e){return e}),(function(e){return 403===(e.response?e.response.status:null)&&(console.log("Refresh Token"),a().get("users/refresh",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("refreshToken"))}}).then((function(e){console.log(e.data),localStorage.setItem("accessToken",e.data)})).catch((function(e){console.log(e)}))),Promise.reject(e)})),t.Z=s},6847:function(e,t,r){r.r(t);var n=r(4165),a=r(5861),s=r(885),o=r(2791),l=r(1134),i=r(1265),c=r(7942),u=r(7179),m=r(9434),d=r(184);t.default=function(){var e=(0,o.useState)(""),t=(0,s.Z)(e,2),r=t[0],f=t[1],p=(0,o.useState)(""),h=(0,s.Z)(p,2),x=h[0],b=h[1],g=c.Ry().shape({name:c.Z_().min(5,"minimum 5 simbol bolmaly").required("meydany doldur"),email:c.Z_().min(5,"minimum 5 simbol bolmaly").required("meydany doldur")}).required(),y=(0,l.cI)({resolver:(0,i.X)(g)}),v=y.control,j=y.handleSubmit,w=y.formState.errors,k=(0,o.useState)(null),N=(0,s.Z)(k,2),Z=(N[0],N[1]);(0,o.useEffect)((function(){function e(){return(e=(0,a.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get("/users");case 3:t=e.sent,Z(t.data),200===t.status&&(f(t.data.name),b(t.data.email)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var S=(0,m.v9)((function(e){return e.profileShow.profileShow}));return(0,o.useEffect)((function(){!S&&window.location.replace("/")}),[]),(0,d.jsxs)("div",{className:"md:w-3/4 px-3 md:px-0 md:mt-5 mt-0 w-full flex flex-col",children:[(0,d.jsx)("h1",{className:"mb-4 sm:mt-0 mt-5 text-center text-2xl font-bold",children:"PROFILIMI \xdc\xddTGETMEK"}),(0,d.jsx)("form",{onSubmit:j((function(e){return function(e){function t(){return(t=(0,a.Z)((0,n.Z)().mark((function t(){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.Z.post("/users/edit",{name:e.name,email:e.email});case 3:201===t.sent.status&&alert("profil uytgedildi"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}(e)})),className:"px-4 md:w-3/5 w-full mx-auto",children:(0,d.jsxs)("div",{class:"px-2 py-2 pb-8",children:[(0,d.jsx)(l.Qr,{control:v,name:"name",defaultValue:r,render:function(e){var t,n=e.field,a=n.onChange,s=n.onBlur;return(0,d.jsxs)("div",{className:"my-4",children:[(0,d.jsxs)("label",{htmlFor:"name",className:"text-black",children:["Adynyz ",(0,d.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,d.jsx)("input",{defaultValue:r,onChange:a,onBlur:s,type:"text",id:"name",className:"focus:border-red-500 focus:outline-none mt-2 border-gray-400 ring-red-500 outline-red-600 block items-center py-2 p-1 pl-2 w-full text-sm text-gray-900  bg-white rounded-r border"}),(0,d.jsx)("p",{className:"text-red-500",children:null===(t=w.name)||void 0===t?void 0:t.message})]})}}),(0,d.jsx)(l.Qr,{control:v,name:"email",defaultValue:x,render:function(e){var t,r=e.field,n=r.onChange,a=r.onBlur;return(0,d.jsxs)("div",{className:"my-4",children:[(0,d.jsxs)("label",{htmlFor:"email",className:"text-black",children:["E-po\xe7ta\u0148yz ",(0,d.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,d.jsx)("input",{defaultValue:x,onChange:n,onBlur:a,type:"text",id:"email",className:"focus:border-red-500 focus:outline-none mt-2 border-gray-400 ring-red-500 outline-red-600 block items-center py-2 p-1 pl-2 w-full text-sm text-gray-900  bg-white rounded-r border"}),(0,d.jsx)("p",{className:"text-red-500",children:null===(t=w.email)||void 0===t?void 0:t.message})]})}}),(0,d.jsx)("button",{type:"submit",className:"transition duration-500 ease-in-out hover:bg-black w-full cursor-pointer mt-6 h-10 flex items-center bg-red-600 text-white rounded justify-center",children:(0,d.jsx)("p",{children:"Profilimi \xfc\xfdtgetmek"})})]})})]})}}}]);
//# sourceMappingURL=847.bc402203.chunk.js.map