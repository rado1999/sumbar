{"version":3,"file":"static/js/693.1cbb6d63.chunk.js","mappings":"4HAIMA,EAAUC,IAAAA,OAAa,CAAEC,QAFf,8BAGhBF,EAAQG,aAAaC,QAAQC,KACzB,SAAAC,GAEI,OADAA,EAAIC,QAAJ,cAA6B,UAAWC,aAAaC,QAAQ,eACtDH,KAEX,SAAAI,GACI,OAAOC,QAAQC,OAAOF,MAG9BV,EAAQG,aAAaU,SAASR,KAC1B,SAAAC,GAAM,OAAOA,KACb,SAAAI,GAYI,OAVa,OADAA,EAAIG,SAAWH,EAAIG,SAASC,OAAS,QAE9CC,QAAQC,IAAI,iBACZf,IAAAA,IAAU,gBAAgB,CAAEM,QAAS,CAAEU,cAAc,UAAD,OAAYT,aAAaC,QAAQ,oBAAuBS,MAAK,SAAAZ,GAC7GS,QAAQC,IAAIV,EAAIa,MAChBX,aAAaY,QAAQ,cAAcd,EAAIa,SAE1CE,OAAM,SAAAX,GACHK,QAAQC,IAAIN,OAGbC,QAAQC,OAAOF,MAG9B,O,8GCkBA,UA5CsB,WAClB,OAAwBY,EAAAA,EAAAA,UAAS,MAAjC,eAAOH,EAAP,KAAaI,EAAb,MACAC,EAAAA,EAAAA,YAAU,WAAM,8CACZ,kHAE0BxB,EAAAA,EAAAA,IAAY,oBAFtC,OAEcM,EAFd,OAGQiB,EAAQjB,EAAIa,MAHpB,gDAKQJ,QAAQU,MAAR,MALR,0DADY,uBAAC,WAAD,wBASZC,KACD,IACH,IAAMC,GAAcC,EAAAA,EAAAA,KAAY,SAAAC,GAAK,OAAIA,EAAMF,YAAYA,eAI3D,OAHAH,EAAAA,EAAAA,YAAU,YACLG,GAAeG,OAAOC,SAASC,QAAQ,OAC1C,KAEE,iBAAKC,UAAU,0DAAf,WACI,eAAIA,UAAU,mDAAd,sCACA,iBAAKA,UAAU,4BAAf,WACI,gBAAKA,UAAU,iDAAf,qBACA,gBAAKA,UAAU,gDAAf,oBACA,gBAAKA,UAAU,gDAAf,mBACA,gBAAKA,UAAU,gDAAf,wBACA,gBAAKA,UAAU,gDAAf,8BAEHd,GAAQA,EAAKe,KAAI,SAAAC,GAAC,OACf,iBAAKF,UAAU,4BAAf,WACI,gBAAKA,UAAU,iDAAf,SAAiEE,EAAEC,MACnE,gBAAKH,UAAU,gDAAf,SAAgEE,EAAEE,aAClE,gBAAKJ,UAAU,gDAAf,SAAgEE,EAAEG,SAClE,gBAAKL,UAAU,gDAAf,SAAgEE,EAAEI,WAClE,gBAAKN,UAAU,gDAAf,SAAgEE,EAAErB,eAGzEK,GAAwB,IAAhBA,EAAKqB,SAAgB,iBAAKP,UAAU,sEAAf,WAC1B,SAAC,MAAD,CAAUA,UAAU,2BACpB,cAAGA,UAAU,oBAAb","sources":["Components/Interceptors/axios.js","Pages/Profile-Pages/OrdersHistory.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst baseURL = 'http://95.85.127.250:3002';\r\n\r\nconst service = axios.create({ baseURL });\r\nservice.interceptors.request.use(\r\n    res=>{\r\n        res.headers['Authorization']='Bearer '+ localStorage.getItem('accessToken')\r\n        return res;\r\n    },\r\n    err=>{\r\n        return Promise.reject(err)\r\n    }\r\n);\r\nservice.interceptors.response.use(\r\n    res=>{return res},\r\n    err=>{\r\n        const status=err.response ? err.response.status : null;\r\n        if (status===403){\r\n            console.log('Refresh Token');\r\n            axios.get('users/refresh',{ headers: { Authorization: `Bearer ${localStorage.getItem('refreshToken')}` } }).then(res=>{\r\n                console.log(res.data);\r\n                localStorage.setItem('accessToken',res.data)\r\n            })\r\n            .catch(err=>{\r\n                console.log(err);\r\n            })\r\n        }\r\n        return Promise.reject(err)\r\n    }\r\n)\r\nexport default service","import React, { useEffect, useState } from 'react'\r\nimport { BsSearch } from 'react-icons/bs'\r\nimport { useSelector } from 'react-redux';\r\nimport service from '../../Components/Interceptors/axios';\r\n\r\nconst OrdersHistory = () => {\r\n    const [data, setData] = useState(null)\r\n    useEffect(() => {\r\n        async function getData() {\r\n            try {\r\n                const res = await service.get('/product/history');\r\n                setData(res.data)\r\n            } catch (error) {\r\n                console.error(error);\r\n            }\r\n        }\r\n        getData()\r\n    }, [])\r\n    const profileShow = useSelector(state => state.profileShow.profileShow)\r\n    useEffect(()=>{\r\n        !profileShow && window.location.replace('/')\r\n    },[])\r\n    return (\r\n        <div className='md:w-3/4 px-3 md:px-0 md:mt-5 mt-0 w-full flex flex-col'>\r\n            <h1 className='mb-4 sm:mt-0 mt-5 text-center text-2xl font-bold'>SARGYTLARYŇ TARYHY</h1>\r\n            <div className='flex h-16 border bg-white'>\r\n                <div className='w-2/12 h-full flex items-center justify-center'>№</div>\r\n                <div className='w-1/5 h-full flex items-center justify-center'>Wagty</div>\r\n                <div className='w-1/5 h-full flex items-center justify-center'>Jemi</div>\r\n                <div className='w-1/5 h-full flex items-center justify-center'>Tölegi</div>\r\n                <div className='w-1/5 h-full flex items-center justify-center'>Ýagdaýy</div>\r\n            </div>\r\n            {data && data.map(e => (\r\n                <div className='flex h-16 border bg-white'>\r\n                    <div className='w-2/12 h-full flex items-center justify-center'>{e.id}</div>\r\n                    <div className='w-1/5 h-full flex items-center justify-center'>{e.createdAt}</div>\r\n                    <div className='w-1/5 h-full flex items-center justify-center'>{e.total}</div>\r\n                    <div className='w-1/5 h-full flex items-center justify-center'>{e.payment}</div>\r\n                    <div className='w-1/5 h-full flex items-center justify-center'>{e.status}</div>\r\n                </div>\r\n            ))}\r\n            {data && data.length === 0 && <div className='flex justify-center aling-center items-center flex-col w-full my-20'>\r\n                <BsSearch className='text-4xl text-red-500' />\r\n                <p className='font-bold text-xl'>Haryt tapylmady</p>\r\n            </div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OrdersHistory"],"names":["service","axios","baseURL","interceptors","request","use","res","headers","localStorage","getItem","err","Promise","reject","response","status","console","log","Authorization","then","data","setItem","catch","useState","setData","useEffect","error","getData","profileShow","useSelector","state","window","location","replace","className","map","e","id","createdAt","total","payment","length"],"sourceRoot":""}